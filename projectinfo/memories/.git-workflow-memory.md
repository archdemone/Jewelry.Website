# Git Workflow Memory - Always Save, Commit & Sync Changes

## üöÄ **Standard Git Workflow Commands**

### **1. Save Changes:**

```bash
git add .
```

### **2. Commit Changes:**

```bash
git commit -m "Descriptive commit message explaining the changes"
```

### **3. Sync with Remote:**

```bash
git push
```

## üìã **Complete Workflow Example:**

```bash
# Step 1: Add all changes
git add .

# Step 2: Commit with descriptive message
git commit -m "Web Vitals Optimization: Add fetchPriority and explicit dimensions"

# Step 3: Push to remote repository
git push
```

## üîç **Status Check Commands:**

```bash
# Check current status
git status

# Check commit history
git log --oneline -5
```

## ‚ö†Ô∏è **Important Notes:**

1. **Always run commands manually** - Don't assume they run automatically
2. **Use descriptive commit messages** - Explain what was changed and why
3. **Check status before committing** - Ensure working tree is clean
4. **Push immediately after commit** - Keep local and remote in sync

## üö® **Critical Requirements:**

### **Before Committing:**
- **Run health checks**: `npm run smoke:all`
- **Verify no regressions**: All tests must pass
- **Check performance**: Web Vitals must be maintained
- **Validate environment**: Test with CI environment variables

### **Reporting Requirements:**
- **Show exact commands run** with full syntax
- **Include exit codes** for all commands
- **Show last 20-50 log lines** from each server
- **Include JSON outputs** when available
- **Document error details** with stack traces if applicable

### **Error Handling:**
- **If sandbox install fails**: Sync package.json/lockfile from main, retry once, then report
- **Never disable tests**: Do not modify tests to pass CI
- **Maintain quality**: Security/perf/seo/accessibility must not regress

## üéØ **Memory Rules:**

- **ALWAYS** use `git add .` to stage changes
- **ALWAYS** use `git commit -m "message"` to commit
- **ALWAYS** use `git push` to sync with remote
- **NEVER** assume commands run automatically
- **ALWAYS** check `git status` to verify current state
- **ALWAYS** run health checks before committing
- **NEVER** disable tests to pass CI

## üìù **Commit Message Format:**

```
Type: Brief description of changes

- Specific change 1
- Specific change 2
- Expected impact/results
- Health check results (if applicable)
```

**Examples:**

- `"Web Vitals Fix: Add explicit dimensions for hero image"`
- `"Performance Optimization: Reduce image quality to 50%"`
- `"Bug Fix: Resolve Image component fill/width conflict"`
- `"Health Check: All smoke tests passing, no regressions"`

## üîí **Quality Gates:**

### **Pre-Commit Checklist:**
- [ ] All TypeScript errors resolved
- [ ] All linting issues fixed
- [ ] Build completes successfully
- [ ] All tests pass
- [ ] Performance budgets maintained
- [ ] Security checks pass
- [ ] Accessibility standards met
- [ ] Health checks passing (`npm run smoke:all`)

### **Post-Commit Verification:**
- [ ] Push successful
- [ ] CI pipeline triggered
- [ ] All CI checks passing
- [ ] No regressions introduced
